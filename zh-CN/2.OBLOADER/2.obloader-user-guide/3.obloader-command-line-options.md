命令行参数 
==========================

OBLOADER 通过命令行参数指定导入时所需的信息。 

命令示例 
-------------------------

导入命令的示例语句如下，更多详情请参见 **参数列表** 与 **使用示例**。
> **注意**
>当连接至 OceanBase DataBase Proxy（OBProxy）或直接连接至 OBServer 时，参数 `-h` 和 `-P` 的值为 OBProxy 的主机 IP 和端口号，无需使用参数 `-c` 指定连接的集群名。

```shell
[admin@localhost]>./obloader  -h <主机IP> -P <端口> -u <用户> -p <密码>  --sys-password <sys 租户下的账户密码> -c <集群> -t <租户> -D <--database> [--ddl] [--csv|--sql] [--all|--table '表名'] -f<数据文件或者目录>
```

参数列表 
-------------------------



|         参数         | 是否必选 |说明|默认值|取值范围|
|:-----------------------|:---------|:---------|:---------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -h(--host)         | 是    | 连接 OBProxy 或者 OBServer 的 IP 地址。|-|-|
| -P(--port)         | 是    | 连接 OBProxy 或者 OBServer 的端口。|-|-|
| -c(--cluster)      | 否    | 数据库的集群名。<br>直连 OBServer 时无需指定。|-|-|
| -t(--tenant)       | 否    | 当前用户的租户名。|-|-|
| -u(--user)         | 是    | 数据库用户名。|-|-|
| -p(--password)     | 否    | 数据库密码。|-|-|
| -D(--database)     | 否    | 数据库名。|-|-|
| -f(--file-path)    | 是    | 指定数据文件所在目录，或数据文件绝对路径。|-|-|
| --sys-user         | 否    | 指定 sys 租户下某用户，默认是 root@sys 用户。<br> **注意**：必须使用 sys 租户下具有监控权限的用户查询系统表。|root@sys|-|
| --sys-password     | 否    | 指定 sys 租户下某用户的密码。|空|-|
| --public-cloud     | 否    | 使用限制模式导入数据，该模式导入不依赖 `--sys-user`。|-|-|
| --file-suffix      | 否    | 指定数据文件的后缀名，注意后缀名与文件格式在概念上的区别。支持正则表达式。<br>详情请参见 **文件格式** 中的 **数据文件的格式与文件后缀名的对应关系**。<br>例如：`--file-suffix '.文件后缀名'`|-|-|
| --file-encoding    | 否    | 指定文件编码。| UTF-8|-|
| --ctl-path         | 否    | 指定控制文件所在目录，控制文件的后缀名是 .ctrl。|-|-|
| --map-path         | 否    | 指定数据字段映射文件所在目录。|-|-|
| --log-path         | 否    | 指定日志文件的输出目录。|-|-|
| --ddl              | 否    | 导入 DDL 文件。默认文件后缀是 -schema.sql。|-|-|
| --sql              | 否    | 导入 SQL 文件。默认文件后缀是 .sql。|-|-|
| --mix              | 否    | 导入结构与数据混合的数据文件。<br>格式详情请参见 **文件格式** 中的  **CSV、SQL、DDL、CUT、POS 与 MIX 文件格式的区别**|-|-|
| --csv              | 否    | 导入 CSV 文件（推荐），默认文件后缀是 .csv。|
| --pos              | 否    | 导入 POS 字节偏移格式的数据文件，文件中的数据是根据定长的字节大小组织。<br>例如：`-- t_pos.ctrl`|-|-|
| --cut              | 否    | 导入 CUT 格式文件，CUT 格式是指数据使用字符串作为分隔。<br>例如：`--column-splitter '|@|'`|-|-|
| --all              | 否    | 导入所有的数据库对象的结构定义。|-|-|
| --table            | 否    | 指定待导入的表，多个表用逗号分隔。<br>值为 '*' 时则导入 `-D` 库中所有的表。<br>例如：`--table 't_table'`<br>详情请参见  **文件格式** 中的 **指定 `--table` 选项时的注意事项**。|-|-|
| --view             | 否    | 指定待导入的视图，多个视图用逗号分隔。<br>值为 '*' 时则导入 -D 库中所有的视图。<br>例如：`--view 't_view'`|-|-|
| --replace-object   | 否    | 表结构已存在时，替换掉该表结构（**不推荐使用**）。|-|-|
| --rw               | 否    | 读写线程比例。|0.2<br>(1 读线程：5 写线程)|（0,1）|
| --slow             | 否    | 指定触发降速 OBServer 内存使用率。|0.75|(0,1)|
| --pause            | 否    | 指定触发暂停 OBServer 内存使用率。|0.85|(0,1)|
| --batch            | 否    | 指定单个事务查询的批量大小。|200|大于 0 的整数。|
| --thread           | 否    | 指定工作线程数|CPU \* 2。|大于 0 的整数。|
| --block-size       | 否    | 指定文件块切分大小。|64 MB|-|
| --retry            | 否    | 是否从最近一次的保存点继续导入（常用于中断尝试）。|-|-|
| --external-data    | 否    | 标记数据是由第三方工具导出的，不作元信息检查。<br>详情请参见 **文件格式** 中的 **使用 OBLOADER 导入源自第三方工具（如 Mydumper 和 SqlDeveloper 等）导出的数据文件时的注意事项**|-|-|
| --max-tps          | 否    | 指定导入时的限速，单位行/秒。|2147483647|(0,2147483647]|
| --max-wait-timeout | 否    | 最大等待合并操作的超时时间，单位：分钟。|180 分钟|大于 0 的整数。|
| --trail-delimiter  | 否    | 如果数据是列分隔符结尾，截断掉行尾最后一个列分隔符。|-|-|
| --with-trim        | 否    | 去掉首尾部空格。|-|-|
| --skip-header      | 否    | 指定是否跳过 CSV 文件的第一行，默认不跳过。|-|-|
| --null-string      | 否    | 指定 `NULL` 的替代字符串。|\\N<br>如导入后数据不为 \\N，则原值为 NULL 字符串。|-|
| --empty-string     | 否    | 指定空字符（' '）的转义字符。|\\E|-|
| --line-separator   | 否    | 指定行分隔符。|'\\n'|-|
| --column-separator | 否    | 指定 CSV 格式的列分隔符（仅支持单字符）。|','（英文逗号）|-|
| --escape-character | 否    | 指定转义字符。|\\|-|
| --column-delimiter | 否    | 指定 CSV 格式的定界符（单引号或双引号）。|' '（单引号）|-|
| --ignore-unhex     | 否    | `BLOB` 和 `BINARY` 等二进制类型的数据未转换成十六进制字符串，导入时忽略对该数据进行解码。|-|-|
| --exclude-table    | 否    | <li>如指定表名，不导入指定表的结构和数据，例如 `--exclude-table 'a,b,c'`。</li><br><li>如不指定表名，则导入所有表结构和表数据，例如 `--exclude-table ''` 。</li><br><li>支持用 \* 进行模糊匹配，例如 `--exclude-table '*ab*'`（'\*ab\*'表示表名中包含 ab 字符）。</li>|-|-|
| --column-splitter  | 否    | 指定 CUT 格式的列分隔符，区别于 CSV 格式单字符的分隔符，数据按照指定的字符串进行分隔。|-|-|
| --oss-endpoint     | 否    | 填写 Bucket 所在地域对应 Endpoint。 <br>例如：<br>华东1 (杭州)，Endpoint 填写为 https://oss-cn-hangzhou.aliyuncs.com。|-|-|
| --access-key       | 否    | 指定云存储的访问账号。|-|-|
| --secret-key       | 否    | 指定云存储的访问密钥。|-|-|
| --bucket-uri       | 否    | 指定存储单元标识符。 <br>URI 格式：oss://bucket/key1/key2<br>例如：<br>oss://oceanbasepublic/tools/obdumper。|-|-|
| --max-discards     | 否    | 限制单表产生的 discard 数量。<br>该参数的作用域为单个对象，如导入 A、B 两张表， 如表 A 达到 `max-discards` 限制，则会终止导入表 A 继续导入表 B。<br><li> `--max-discards`=0，告警并停止导入；</li><br><li>`--max-discards`=N，N 为正整数，在达到 N 条时告警并停止导入；</li><br><li> `--max-discards`=-1，忽略告警，继续导入。</li>|-1|整数。|
| --max-errors       | 否    | 可指定允许的报错数量，支持忽略报错模式 。 <br>(默认最大错误上限为 10，单个线程出错数超过该数量后整个程序会退出) <br> 该参数的作用域为单个对象，如导入 A、B 两张表，若表 A 达到 `max-errors` 限制，则会终止导入表 A 继续导入表 B。<br><li>`--max-errors`=0，报错并停止导入；</li><br><li>`--max-errors`=N，N 为正整数，在达到 N 条时报错并停止导入；</li><br> <li> `--max-errors`=-1，忽略报错，继续导入。</li><br> **注意**：<br> 某些报错不可忽略，否则无法继续导入。<br> <li>导入结构时报错：源文件不存在; 导入重复存在的结构出错。</li><li>导入数据时报错：max-error=-1 (忽略模式)，不会停止任务；max-error=N，错误次数超过 N 条时报错并停止导入 (错误次数只针对单张表，如导入 A、B 两张表，若表 A 达到 `max-errors` 限制，则会终止导入表 A 继续导入表 B)；使用 `--replace` 替换数据库中原数据时，发生替换失败；网络错误。</li> |1000|整数。|
| --replace-data     | 否    | 支持增量数据导入，并在主键/唯一键冲突时数据覆盖插入的能力。 支持 `--sql`、`--csv` 和 `--cut`  三种格式。|-|-|
| --truncate-table   | 否    | 指定是否导入前清空表（不推荐使用，建议您手动进行清理）。|-|-|
> **说明**
> 参数列表中，“-” 表示无默认值和取值范围。
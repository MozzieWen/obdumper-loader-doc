# What's New

本次 9 月发版的导数工具 3.3.0 支持标识私有云环境下无 sys 租户密码的使用情况、连接 ODP (Sharding) 逻辑库进行导入导出、配置 jdbc 连接会话级变量、单表导入时正则匹配文件名、将自定义不可见字符设置为换行符，以及导入 CUT 格式文件时支持自定义数据文件换行符、忽略转义字符、跳过文件的第一行和最后一行数据。

更新功能列表 
---------------------------



|   功能项    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           说明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|OBLOADER & OBDUMPER|<ul><li> 新增 `--no-sys` 选项，标识私有云环境下无 sys 租户密码的使用情况。与用于公有云的 `--public-cloud` 选项场景进行区分。 </li>  <li>新增 `--logical-database` 选项，标识连接 ODP (Sharding) 逻辑库进行导入导出。</li>  <li> 支持运行命令行时带 `-p` 再输入密码的功能。</li>  <li> 支持将 CUT 格式文件中的分隔符设置为不可见字符串（之前版本仅支持设置为不可见单字符）。</li>  <li> 新增 jdbc 连接会话级变量配置。详情请参见 [使用示例](3.OBLOADER/2.obloader-user-guide/6.obloader-scenarios.md)</li></ul> |
| OBLOADER | <ul><li> 新增 `--skip-footer` 选项，用于导入 CUT 格式文件时跳过文件的最后一行数据。 </li>  <li> 优化 `--skip-header` 选项功能，支持导入 CUT 格式文件时跳过文件第一行数据。 </li>  <li> 新增 `--file-regular-expression` 选项， 用于导入时文件名的正则匹配，仅适用于单表导入。</li>  <li> 新增 `--line-separator` 选项，用于导入 CUT 格式文件时自定义数据文件换行符。 </li> <li>新增 `--ignore-escape` 选项，用于忽略导入 CUT 格式文件时对字符进行转义操作，默认不忽略。 </li> <li> 客户端分区计算组件版本升级至 1.1.11-SNAPSHOT。</li> </ul> 详情请参见 [OBLOADER 命令行选项](3.OBLOADER/2.obloader-user-guide/3.obloader-command-line-options.md)|
| OBDUMPER |  支持将自定义不可见字符设置为换行符。详情请参见 [OBDUMPER 命令行选项](4.OBDUMPER/2.obdumper-user-guide/3.obdumper-command-line-options.md)。|



缺陷修复列表
---------------------------


* 修复 OceanBase MySQL 模式下使用 OBLOADER/OBDUMPER 导入/导出数据时，控制文件中的预处理函数 Length 值与 MySQL 中的 Length 值显示不一致的缺陷。

* 修复使用 OBDUMPER 导出数据时，指定的 `--flashback-scn`/`--flashback-timestamp`/`--snapshot` 选项对空表失效的缺陷。

* 修复 OceanBase Oracle 模式下使用 OBDUMPER 导出 Float 类型数据时报错的缺陷。

* 修复 OceanBase Oracle 模式下使用 OBDUMPER 导出 Float 类型数据时浮点数精度丢失的缺陷。

* 修复使用 OBDUMPER 导出 `--ddl` 格式文件时指定 `-exclude-data-type`/`--exclude-column-names` 选项，文件无法导出的缺陷。仅在导出表结构的使用场景中，表中只包含同一种数据类型时指定 `-exclude-data-type`/`--exclude-column-names` 选项导出文件生效。

* 修复使用 OBDUMPER 导出数据时 SEQUENCE/CONSTANT 控制函数未生效的缺陷。

* 修复控制文件对 SEQUENCE/CONSTANT 等控制文件定义的关键字作为表列名时，控制文件未生效的缺陷。

* 修复使用 OBLOADER 导入数据时，报错记录 `incorrect string value` 未被记录到ob-loader-dumper.bad 文件中的缺陷。

* 修复使用 OBLOADER 导入数据时，因数据文件中记录存在的列数量大于真实表结构中的列数量导致整个数据文件无法导入的缺陷。

* 修复使用 OBLOADER 导入 `--mix`/`--ddl` 格式文件时，无法正确识别注释符 `--` 的缺陷。
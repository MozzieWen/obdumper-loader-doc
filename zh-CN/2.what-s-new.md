# What's New

本次 10 月发版的导数工具 4.0.0 旨在适配 OceanBase V4.0.0 版本的 objdbc 2.4.0 工具、导入/导出时支持 ORC 列存格式，以及规范导入/导出日志信息。

## 更新功能列表



|   功能项    | 说明 |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| OBLOADER | <ul><li> 支持将 `--orc` 格式的数据文件导入到 OceanBase 数据库中，查询时只读取涉及的列存数据以降低磁盘吞吐量。 </li>  <li> 根据配置的格式进行解析得到正确的数据格式的效果。 </li><li> 日志文件中新增报错详情，支持查看具体的报错行。</li><li> 导入过程中支持进行准确的性能诊断。 </li> </ul> 详情请参见 [OBLOADER 命令行选项](3.OBLOADER/2.obloader-user-guide/3.obloader-command-line-options.md)|
| OBDUMPER | <ul><li> 支持导出 `--orc` 格式的数据文件，查询时只读取涉及的列存数据以降低磁盘吞吐量 </li><li> 导出结构和数据时，支持导出 UML 类图。</li><li> 支持使用列存压缩方法导出数据，将相同类型的数据连续存储在一个数组，以减少数据读取量和提升查询速度。</li><li> 日志文件中新增报错详情，支持查看具体的报错行。</li><li> 导出过程中支持进行准确的性能诊断。</li></ul>详情请参见 [OBDUMPER 命令行选项](4.OBDUMPER/2.obdumper-user-guide/3.obdumper-command-line-options.md)。|



## 缺陷修复列表

* 修复将使用 OBDUMPER 导出的数据通过 OBLOADER 导入到 OceanBase 数据库中时，Decimal 和 INT 数据类型字段变为默认值的缺陷。

* 修复使用 OBLOADER 导入 DDL/MIX 格式文件时不能通过 `-f` 选项指定数据文件绝对路径的缺陷。

* 修复 OceanBase MySQL 模式下使用 OBDUMPER 导出 Float 类型数据时浮点数精度丢失的缺陷。


* 修复使用 OBLOADER 导入 DDL 格式文件时，因指定 `--replace-object` 命令无法覆盖数据库中已存在的表组结构导致导入失败的缺陷。


* 修复使用 OBLOADER 导入数据时，指定 `--max-discards` 选项不生效且.discard 日志中记录不全且重复的缺陷。

* 修复使用 OBLOADER 导入数据时，指定 `--max-discards` 选项为正整数出现完成状态和数据行数记录混乱的缺陷。

* 修复使用 OBLOADER 导入数据时，同时指定 `--max-errors` 和 `--max-discrads` 选项显示 `Error: null` 的缺陷。

* 修复 Windows 系统下使用 OBLOADER 3.3.0 版本导入 CUT 格式文件时报错的缺陷。

* 修复使用 OBLOADER 导入 CUT 格式文件时，指定 `--skip-footer` 和 `--ctl-path` 选项导致数组越界的缺陷。

* 修复使用 OBLOADER 导入数据时，因数据中包含不存在的数据库对象选项导致执行结果不一致的缺陷。

* 修复使用 OBLOADER 导入数据时，指定 `--max-errors`/`--max-discards` 选项到达指定的错误/重复数量停止导入后，显示 `count` 数目与实际不符缺陷。

* 修复日志信息不能够准确定位的缺陷。
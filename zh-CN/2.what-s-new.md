# What's New 

本次 8 月发版的导数工具 3.2.0 旨在优化导入性能，并对导出的时间类型格式进行了完善。



更新功能列表 
---------------------------



|   功能项    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           说明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|OBLOADER & OBDUMPER|<ul><li> 新增 `--no-sys` 参数，标识私有云环境下无 sys 租户密码的使用情况。与 `--public-cloud` 参数的用于公有云的情况作区分。 </li>  <li>新增--logical-database参数，标识连接odp-sharding逻辑库进行导入导出。</li>  <li> 新增支持 运行命令行时带  -p 再输入密码的功能。</li>  <li> 新增cut格式的分隔符可以为不可见字符串（之前版本仅支持不可见单字符）。</li>  <li> 新增 jdbc 连接会话级变量配置，包括 jdbc.url.use.ssl、jdbc.url.use.unicode、jdbc.url.socket.timeout、jdbc.url.connect.timeout、jdbc.url.charecter.encoding、jdbc.url.use.compression、jdbc.url.cache.prep.stmts、jdbc.url.no.datetime.string.sync、jdbc.url.use.server.prep.stmts、jdbc.url.allow.multi.queries、jdbc.url.rewrite.batched.statements、jdbc.url.use.local.session.state、jdbc.url.zero.datetime.behavior、jdbc.url.verify.server.certificate、jdbc.url.use.pipeline.auth、jdbc.url.socks.proxy.host 和 jdbc.url.sockes.proxy.port。</li></ul>详情请参见 [OBLOADER 命令行选项](3.OBLOADER/2.obloader-user-guide/3.obloader-command-line-options.md) 和 [OBDUMPER 命令行选项](4.OBDUMPER/2.obdumper-user-guide/3.obdumper-command-line-options.md)。 |
| OBLOADER |  <ul><li>新增--ignore-escape参数，用于忽略cut格式导入时对字符进行转义操作，默认不忽略。 </li><li> 支持自定义不可见字符作为换行符导出。</li></ul>|
| OBDUMPER | <ul><li> 新增--skip-footer 参数，用于cut格式导入时跳过导入数据文件的最后一行。 </li>  <li> 扩展--skip-header 参数功能，支持对cut格式数据导入，用于跳过导入数据文件第一行。 </li>  <li> 新增--file-regular-expression 参数， 用于导入时文件名的正则匹配，仅适用于单表导入。</li>  <li> 客户端分区计算组件版本升级至 1.1.11-SNAPSHOT。 </li>  <li> 新增--line-separator参数，用于cut格式导入时自定义数据文件换行符。</li></ul> |



缺陷修复列表
---------------------------

* 修复使用 OBDUMPER 导出数据指定 `--flashback-scn`/`--flashback-timestamp`/`--snapshot` 选项时，对空表失效的缺陷。
* 修复使用 OBDUMPER 导出自定义查询的结果集时，Oracle 模式下导出 Float 类型报错的缺陷。
* 修复使用 OBDUMPER 导出







* 修复使用 OBLOADER 切分文件时程序中断的缺陷。

* 修复使用 OBLOADER 导入数据时监控日志重复打印的缺陷。

* 修复使用 OBLOADER 导入TableGroup 时出现的程序中断的缺陷。

* 修复使用 OBLOADER 向生成列作为分区键的表中导入数据时报错的缺陷。

* 修复使用 OBLOADER 导入数据时有重复数据但未生成 Discard 文件的缺陷。

* 修复使用 OBLOADER 导入 tinytext、medium text、text 和 langtext 类型的空值变为 `NULL` 的缺陷。

* 修复使用 OBLOADER 导入数据时 `--ignore-unhex` 选项在 `--cut`, `--sql`, `--pos` 格式下失效的缺陷。

* 修复使用 OBLOADER 导入数据未指定 `--ctrl-path` 选项时，OBLOADER 默认从数据目录中查找并使用控制文件的缺陷。

* 修复使用 OBDUMPER 快照查询（`--snapshot`）导出数据时非模版二级分区导出重复数据的缺陷。

* 修复 OceanBase Oracle 模式下使用 OBDUMPER 条件查询导出数据时语法错误的缺陷。 

* 修复使用 OBDUMPER 条件查询中存在 **`or`** 语句时程序重复导出数据且不能正常退出的缺陷。  

* 修复 OceanBase Oracle 模式下使用 OBDUMPER 无法导出 Float 数据类型的缺陷。

* 修复使用 OBDUMPER 导出自定义查询的结果集时必须指定表名的缺陷。

* 修复使用 OBDUMPER 导出包含主键表且排除主键列时程序中断的缺陷。

* 修复使用 OBDUMPER 根据 `--sql` 格式导出自定义查询的结果集时表名缺失的缺陷。

* 修复使用 OBDUMPER 无法导出 OceanBase MySQL 1.4.x 生成列定义的缺陷。

* 修复使用 OBDUMPER 导出的约束定义缺少空格，容易引发语法解析错误的缺陷。

* 修复使用 OBDUMPER 无法导出 OceanBase MySQL 1.4/2.x/3.x 表组定义的缺陷。

* 修复使用 OBDUMPER 导出 timestamp, time, datetime, timestamp with time zone, timestamp with local time zone 类型时精度值与数据库对象定义中的精度值不一致的缺陷。